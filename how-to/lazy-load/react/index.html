<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>webpack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/assets/favicon.ico">

    
      <link href="/bundleStaticPage.css" rel="stylesheet">
    
      <link href="/paths.css" rel="stylesheet">
    
      <link href="/style.css" rel="stylesheet">
    
  </head>
  <body>
    <div id="site" class="site"><div class="interactive" id="components/navigation/navigation.jsx" data-props="{&quot;pages&quot;:[{&quot;title&quot;:&quot;Donate&quot;,&quot;url&quot;:&quot;//opencollective.com/webpack&quot;},{&quot;title&quot;:&quot;Concepts&quot;,&quot;url&quot;:&quot;concepts&quot;},{&quot;title&quot;:&quot;Configuration&quot;,&quot;url&quot;:&quot;configuration&quot;},{&quot;title&quot;:&quot;How to&quot;,&quot;url&quot;:&quot;how-to&quot;},{&quot;title&quot;:&quot;API&quot;,&quot;url&quot;:&quot;api&quot;},{&quot;title&quot;:&quot;Github&quot;,&quot;url&quot;:&quot;//github.com/webpack/webpack.js.org&quot;}]}"></div><aside class="sidecar"><a href="//github.com/webpack/webpack" target="_blank" class="sidecar__link sidecar__link--github"><span class="sidecar__label">Fork the Repo</span><i class="sidecar__icon icon-github"></i></a><a href="#" class="sidecar__link sidecar__link--gitter"><span class="sidecar__label">Find Help</span><i class="sidecar__icon icon-gitter"></i></a><a href="//medium.com/webpack" target="_blank" class="sidecar__link sidecar__link--medium"><span class="sidecar__label">Visit Our Blog</span><i class="sidecar__icon icon-medium"></i></a><a href="//stackoverflow.com/questions/tagged/webpack" target="_blank" class="sidecar__link sidecar__link--so"><span class="sidecar__label">Stack Overflow</span><i class="sidecar__icon icon-stack-overflow"></i></a></aside><div class="container page"><div class="interactive" id="components/sidebar/sidebar.jsx" data-props="{&quot;sectionName&quot;:&quot;how-to&quot;,&quot;pages&quot;:[{&quot;url&quot;:&quot;how-to/author-libraries&quot;,&quot;title&quot;:&quot;How to Author Libraries?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/cache&quot;,&quot;title&quot;:&quot;How to Cache?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;The problem&quot;,&quot;id&quot;:&quot;the-problem&quot;},{&quot;title&quot;:&quot;Generating unique hashes for each file&quot;,&quot;id&quot;:&quot;generating-unique-hashes-for-each-file&quot;},{&quot;title&quot;:&quot;Get filenames from webpack compilation stats&quot;,&quot;id&quot;:&quot;get-filenames-from-webpack-compilation-stats&quot;},{&quot;title&quot;:&quot;Deterministic hashes&quot;,&quot;id&quot;:&quot;deterministic-hashes&quot;},{&quot;title&quot;:&quot;References&quot;,&quot;id&quot;:&quot;references&quot;}]},{&quot;url&quot;:&quot;how-to/develop&quot;,&quot;title&quot;:&quot;How to Develop?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;1. Adjusting Your Text Editor&quot;,&quot;id&quot;:&quot;1-adjusting-your-text-editor&quot;},{&quot;title&quot;:&quot;2. Source Maps&quot;,&quot;id&quot;:&quot;2-source-maps&quot;},{&quot;title&quot;:&quot;3. Choosing a Tool&quot;,&quot;id&quot;:&quot;3-choosing-a-tool&quot;},{&quot;title&quot;:&quot;webpack Watch Mode&quot;,&quot;id&quot;:&quot;webpack-watch-mode&quot;},{&quot;title&quot;:&quot;webpack-dev-server&quot;,&quot;id&quot;:&quot;webpack-dev-server&quot;},{&quot;title&quot;:&quot;webpack-dev-middleware&quot;,&quot;id&quot;:&quot;webpack-dev-middleware&quot;},{&quot;title&quot;:&quot;References&quot;,&quot;id&quot;:&quot;references&quot;}]},{&quot;url&quot;:&quot;how-to/develop/using-docker&quot;,&quot;title&quot;:&quot;How to Develop Using Docker?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;What is docker&quot;,&quot;id&quot;:&quot;what-is-docker&quot;}]},{&quot;url&quot;:&quot;how-to/develop/using-third-party-tools&quot;,&quot;title&quot;:&quot;How to Develop with Third Party Tools?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/develop/using-vagrant&quot;,&quot;title&quot;:&quot;How to Develop Using Vagrant&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Configuring the Project&quot;,&quot;id&quot;:&quot;configuring-the-project&quot;},{&quot;title&quot;:&quot;Running the Server&quot;,&quot;id&quot;:&quot;running-the-server&quot;},{&quot;title&quot;:&quot;Advanced Usage with nginx&quot;,&quot;id&quot;:&quot;advanced-usage-with-nginx&quot;},{&quot;title&quot;:&quot;Conclusion&quot;,&quot;id&quot;:&quot;conclusion&quot;}]},{&quot;url&quot;:&quot;how-to/generate-production-build&quot;,&quot;title&quot;:&quot;How to Generate a Production Build?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Source Maps&quot;,&quot;id&quot;:&quot;source-maps&quot;},{&quot;title&quot;:&quot;Node environment variable&quot;,&quot;id&quot;:&quot;node-environment-variable&quot;},{&quot;title&quot;:&quot;Minification&quot;,&quot;id&quot;:&quot;minification&quot;}]},{&quot;url&quot;:&quot;how-to/handle-compatibility&quot;,&quot;title&quot;:&quot;How to Handle Compatibility?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/handle-dependencies&quot;,&quot;title&quot;:&quot;How to Handle Dependencies?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/hot-module-reload&quot;,&quot;title&quot;:&quot;How to Configure Hot Module Replacement?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Babel Config&quot;,&quot;id&quot;:&quot;babel-config&quot;},{&quot;title&quot;:&quot;Webpack config&quot;,&quot;id&quot;:&quot;webpack-config&quot;},{&quot;title&quot;:&quot;Code&quot;,&quot;id&quot;:&quot;code&quot;},{&quot;title&quot;:&quot;Package.json&quot;,&quot;id&quot;:&quot;package-json&quot;}]},{&quot;url&quot;:&quot;how-to/improve-build-performance&quot;,&quot;title&quot;:&quot;How to Improve Build Performance?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/install-webpack&quot;,&quot;title&quot;:&quot;How to Install webpack?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Pre-requisites&quot;,&quot;id&quot;:&quot;pre-requisites&quot;},{&quot;title&quot;:&quot;Global Installation&quot;,&quot;id&quot;:&quot;global-installation&quot;},{&quot;title&quot;:&quot;Local Installation&quot;,&quot;id&quot;:&quot;local-installation&quot;},{&quot;title&quot;:&quot;Bleeding Edge&quot;,&quot;id&quot;:&quot;bleeding-edge&quot;}]},{&quot;url&quot;:&quot;how-to/lazy-load/react&quot;,&quot;title&quot;:&quot;How to lazy load React&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;LazilyLoad Component&quot;,&quot;id&quot;:&quot;lazilyload-component&quot;},{&quot;title&quot;:&quot;Higher Order Component&quot;,&quot;id&quot;:&quot;higher-order-component&quot;},{&quot;title&quot;:&quot;The Code&quot;,&quot;id&quot;:&quot;the-code&quot;},{&quot;title&quot;:&quot;Tips&quot;,&quot;id&quot;:&quot;tips&quot;},{&quot;title&quot;:&quot;Dependencies&quot;,&quot;id&quot;:&quot;dependencies&quot;},{&quot;title&quot;:&quot;References&quot;,&quot;id&quot;:&quot;references&quot;}]},{&quot;url&quot;:&quot;how-to/set-up-hmr-with-react&quot;,&quot;title&quot;:&quot;How to Set Up Hot Module Replacement with React?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Project Config&quot;,&quot;id&quot;:&quot;project-config&quot;},{&quot;title&quot;:&quot;Babel Config&quot;,&quot;id&quot;:&quot;babel-config&quot;},{&quot;title&quot;:&quot;Webpack config&quot;,&quot;id&quot;:&quot;webpack-config&quot;},{&quot;title&quot;:&quot;Code&quot;,&quot;id&quot;:&quot;code&quot;},{&quot;title&quot;:&quot;Package.json&quot;,&quot;id&quot;:&quot;package-json&quot;}]},{&quot;url&quot;:&quot;how-to/shim&quot;,&quot;title&quot;:&quot;How to Shim?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/split-code&quot;,&quot;title&quot;:&quot;How to Split Code?&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;how-to/upgrade-from-webpack-1&quot;,&quot;title&quot;:&quot;How to Upgrade from Webpack 1?&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;resolve.root, resolve.fallback, resolve.modulesDirectories&quot;,&quot;id&quot;:&quot;resolve-root-resolve-fallback-resolve-modulesdirectories&quot;},{&quot;title&quot;:&quot;resolve.extensions&quot;,&quot;id&quot;:&quot;resolve-extensions&quot;},{&quot;title&quot;:&quot;resolve.*&quot;,&quot;id&quot;:&quot;resolve-&quot;},{&quot;title&quot;:&quot;debug&quot;,&quot;id&quot;:&quot;debug&quot;},{&quot;title&quot;:&quot;UglifyJsPlugin sourceMap&quot;,&quot;id&quot;:&quot;uglifyjsplugin-sourcemap&quot;},{&quot;title&quot;:&quot;UglifyJsPlugin minimize loaders&quot;,&quot;id&quot;:&quot;uglifyjsplugin-minimize-loaders&quot;},{&quot;title&quot;:&quot;OccurrenceOrderPlugin is now on by default&quot;,&quot;id&quot;:&quot;occurrenceorderplugin-is-now-on-by-default&quot;},{&quot;title&quot;:&quot;full dynamic requires now fail by default&quot;,&quot;id&quot;:&quot;full-dynamic-requires-now-fail-by-default&quot;},{&quot;title&quot;:&quot;Using custom arguments in CLI and configuration&quot;,&quot;id&quot;:&quot;using-custom-arguments-in-cli-and-configuration&quot;},{&quot;title&quot;:&quot;require.ensure and AMD require is async&quot;,&quot;id&quot;:&quot;require-ensure-and-amd-require-is-async&quot;},{&quot;title&quot;:&quot;module.loaders is now module.rules&quot;,&quot;id&quot;:&quot;module-loaders-is-now-module-rules&quot;},{&quot;title&quot;:&quot;module.preLoaders and module.postLoaders was removed&quot;,&quot;id&quot;:&quot;module-preloaders-and-module-postloaders-was-removed&quot;},{&quot;title&quot;:&quot;LoaderOptionPlugin context&quot;,&quot;id&quot;:&quot;loaderoptionplugin-context&quot;},{&quot;title&quot;:&quot;Code Splitting with ES6&quot;,&quot;id&quot;:&quot;code-splitting-with-es6&quot;},{&quot;title&quot;:&quot;Dynamic expressions&quot;,&quot;id&quot;:&quot;dynamic-expressions&quot;},{&quot;title&quot;:&quot;Mixing ES6 with AMD and CommonJS&quot;,&quot;id&quot;:&quot;mixing-es6-with-amd-and-commonjs&quot;}]}]}"></div><section class="page__content"><h1>How to lazy load React</h1><a class="page__edit" href="https://github.com/webpack/webpack.js.org/edit/develop/content/how-to/lazy-load/react.md">Edit this Page  <i class="icon-edit"></i></a><div><p>A component can lazily load dependencies without its consumer knowing using higher order functions, or a consumer can lazily load its children without its children knowing using a component that takes a function and collection of modules, or some combination of both.</p>
<h2 class="header"><a class="anchor" href="#lazilyload-component" id="lazilyload-component"></a><span class="text">LazilyLoad Component</span><a class="icon-link" href="#lazilyload-component"></a></h2>
<p>Lets have a look at a consumer choosing to lazily load some components. The <code>importLazy</code> is simply a function that returns the <code>default</code> property, this is for Babel/ES2015 interoperability. If you don&#39;t need that you can omit the <code>importLazy</code> helper. The <code>importLazy</code> function simply returns whatever was exported as <code>export default</code> in the target module.</p>
<pre><code class="lang-jsx"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>LazilyLoad</span> <span class="token attr-name" >modules</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
  TodoHandler<span class="token punctuation" >:</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token function" >importLazy</span><span class="token punctuation" >(</span>System<span class="token punctuation" >.</span><span class="token keyword" >import</span><span class="token punctuation" >(</span><span class="token string" >'./components/TodoHandler'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  TodoMenuHandler<span class="token punctuation" >:</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token function" >importLazy</span><span class="token punctuation" >(</span>System<span class="token punctuation" >.</span><span class="token keyword" >import</span><span class="token punctuation" >(</span><span class="token string" >'./components/TodoMenuHandler'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  TodoMenu<span class="token punctuation" >:</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token function" >importLazy</span><span class="token punctuation" >(</span>System<span class="token punctuation" >.</span><span class="token keyword" >import</span><span class="token punctuation" >(</span><span class="token string" >'./components/TodoMenu'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
<span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>TodoHandler<span class="token punctuation" >,</span> TodoMenuHandler<span class="token punctuation" >,</span> TodoMenu<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>TodoHandler</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>TodoMenuHandler</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>TodoMenu</span> <span class="token punctuation" >/></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>TodoMenuHandler</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>TodoHandler</span><span class="token punctuation" >></span></span>
<span class="token punctuation" >)</span><span class="token punctuation" >}</span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>LazilyLoad</span><span class="token punctuation" >></span></span>
</code></pre>
<h2 class="header"><a class="anchor" href="#higher-order-component" id="higher-order-component"></a><span class="text">Higher Order Component</span><a class="icon-link" href="#higher-order-component"></a></h2>
<p>As a component, you can also make sure your own dependencies are lazily loaded. This is useful if a component relies on a really heavy library. Let&#39;s say we have a Todo component that optionally supports code highlighting...</p>
<pre><code class="lang-jsx"><span class="token keyword" >class</span> <span class="token class-name" >Todo</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>
  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>isCode <span class="token operator" >?</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Highlight</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>content<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Highlight</span><span class="token punctuation" >></span></span> <span class="token punctuation" >:</span> content<span class="token punctuation" >}</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>We could then make sure the expensive library powering the Highlight component is only loaded when we actually want to highlight some code:</p>
<pre><code class="lang-jsx"><span class="token comment" spellcheck="true">// Highlight.js</span>
<span class="token keyword" >class</span> <span class="token class-name" >Highlight</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>
  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span>Highlight<span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>highlight<span class="token punctuation" >;</span>
    <span class="token comment" spellcheck="true">// highlight js is now on our props for use</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
<span class="token keyword" >export</span> <span class="token function" >LazilyLoadFactory</span><span class="token punctuation" >(</span>Highlight<span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
  highlight<span class="token punctuation" >:</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> System<span class="token punctuation" >.</span><span class="token keyword" >import</span><span class="token punctuation" >(</span><span class="token string" >'highlight'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Notice how the consumer of Highlight component had no idea it had a dependency that was lazily loaded? Or that if a user had todos with no code we would never need to load highlight.js? </p>
<h2 class="header"><a class="anchor" href="#the-code" id="the-code"></a><span class="text">The Code</span><a class="icon-link" href="#the-code"></a></h2>
<p>Source code of the LazilyLoad component module which exports both the Component interface and the higher order component interface, as well as the importLazy function to make ES2015 defaults feel a bit more natural.</p>
<pre><code class="lang-jsx"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>

<span class="token keyword" >class</span> <span class="token class-name" >LazilyLoad</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>

  <span class="token function" >constructor</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >super</span><span class="token punctuation" >(</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>arguments<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span>state <span class="token operator" >=</span> <span class="token punctuation" >{</span>
      isLoaded<span class="token punctuation" >:</span> <span class="token boolean" >false</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >componentWillMount</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >load</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >componentDidMount</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span>_isMounted <span class="token operator" >=</span> <span class="token boolean" >true</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >componentWillReceiveProps</span><span class="token punctuation" >(</span>next<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >if</span> <span class="token punctuation" >(</span>next<span class="token punctuation" >.</span>modules <span class="token operator" >===</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>modules<span class="token punctuation" >)</span> <span class="token keyword" >return</span> <span class="token keyword" >null</span><span class="token punctuation" >;</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >load</span><span class="token punctuation" >(</span>next<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >componentWillUnmount</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span>_isMounted <span class="token operator" >=</span> <span class="token boolean" >false</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >load</span><span class="token punctuation" >(</span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      isLoaded<span class="token punctuation" >:</span> <span class="token boolean" >false</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> modules <span class="token punctuation" >}</span> <span class="token operator" >=</span> props<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> keys <span class="token operator" >=</span> Object<span class="token punctuation" >.</span><span class="token function" >keys</span><span class="token punctuation" >(</span>modules<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    Promise<span class="token punctuation" >.</span><span class="token function" >all</span><span class="token punctuation" >(</span>keys<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>key<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> modules<span class="token punctuation" >[</span>key<span class="token punctuation" >]</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >.</span><span class="token function" >then</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>values<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>keys<span class="token punctuation" >.</span><span class="token function" >reduce</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>agg<span class="token punctuation" >,</span> key<span class="token punctuation" >,</span> index<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
        agg<span class="token punctuation" >[</span>key<span class="token punctuation" >]</span> <span class="token operator" >=</span> values<span class="token punctuation" >[</span>index<span class="token punctuation" >]</span><span class="token punctuation" >;</span>
        <span class="token keyword" >return</span> agg<span class="token punctuation" >;</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >.</span><span class="token function" >then</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>result<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
        <span class="token keyword" >if</span> <span class="token punctuation" >(</span><span class="token operator" >!</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>_isMounted<span class="token punctuation" >)</span> <span class="token keyword" >return</span> <span class="token keyword" >null</span><span class="token punctuation" >;</span>
        <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> modules<span class="token punctuation" >:</span> result<span class="token punctuation" >,</span> isLoaded<span class="token punctuation" >:</span> <span class="token boolean" >true</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >if</span> <span class="token punctuation" >(</span><span class="token operator" >!</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>isLoaded<span class="token punctuation" >)</span> <span class="token keyword" >return</span> <span class="token keyword" >null</span><span class="token punctuation" >;</span>
    <span class="token keyword" >return</span> React<span class="token punctuation" >.</span>Children<span class="token punctuation" >.</span><span class="token function" >only</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span><span class="token function" >children</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>modules<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

LazilyLoad<span class="token punctuation" >.</span>propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  children<span class="token punctuation" >:</span> React<span class="token punctuation" >.</span>PropTypes<span class="token punctuation" >.</span>func<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >const</span> LazilyLoadFactory <span class="token operator" >=</span> <span class="token punctuation" >(</span>Component<span class="token punctuation" >,</span> modules<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>props<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>LazilyLoad</span> <span class="token attr-name" >modules</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>modules<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
      <span class="token punctuation" >{</span><span class="token punctuation" >(</span>mods<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token operator" >&lt;</span>Component <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>mods<span class="token punctuation" >}</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >}</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>LazilyLoad</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >const</span> importLazy <span class="token operator" >=</span> <span class="token punctuation" >(</span>promise<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
  promise<span class="token punctuation" >.</span><span class="token function" >then</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>result<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> result<span class="token punctuation" >.</span><span class="token keyword" >default</span><span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> LazilyLoad<span class="token punctuation" >;</span>
</code></pre>
<h2 class="header"><a class="anchor" href="#tips" id="tips"></a><span class="text">Tips</span><a class="icon-link" href="#tips"></a></h2>
<ul>
<li>By using the <a href="https://github.com/webpack/bundle-loader">bundle loader</a> we can semantically name chunks to intelligently load groups of code.</li>
<li>Make sure if you are using the babel-preset-2015, to turn modules to false, this will allow webpack to handle modules.</li>
</ul>
<h2 class="header"><a class="anchor" href="#dependencies" id="dependencies"></a><span class="text">Dependencies</span><a class="icon-link" href="#dependencies"></a></h2>
<ul>
<li>ES2015 + JSX</li>
</ul>
<h2 class="header"><a class="anchor" href="#references" id="references"></a><span class="text">References</span><a class="icon-link" href="#references"></a></h2>
<ul>
<li><a href="http://reactpatterns.com/#Higher-order component">Higher Order Components</a></li>
<li><a href="https://github.com/threepointone/react-modules">react-modules</a></li>
<li><a href="http://merrickchristensen.com/articles/function-as-child-components.html">Function as Child Components</a></li>
<li><a href="https://github.com/iammerrick/how-to-lazy-load-react-webpack">Example Repository</a></li>
<li><a href="https://github.com/webpack/bundle-loader">Bundle Loader</a></li>
</ul>
</div><hr/><div class="contributors"><h3>Contributors:</h3><div class="contributors__list"><a class="contributor" href="https://github.com/iammerrick"><img src="https://github.com/iammerrick.png?size=50"/></a></div></div></section></div><div class="footer"><div class="container footer__inner"><section class="footer__left"><a href="/get-started" class="footer__link">Get Started</a><a href="/analyze" class="footer__link">Analyze</a><a href="/contribute" class="footer__link">Contribute</a></section><section class="footer__middle"><a href="/" class="footer__icon"><img src="/7291f7007988120cc0b20372736970c2.png"/></a></section><section class="footer__right"><a href="//gitter.im/webpack/webpack" target="_blank" class="footer__link">Support</a><a href="https://github.com/webpack/webpack/releases" target="_blank" class="footer__link">Changelog</a><a href="/license" class="footer__link">License</a></section></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-46921629-2', 'auto');ga('send', 'pageview');</script></div>

    
      <script src="/5dedce58eb13d167d0de82f6c79a8cbf.js" type="text/javascript"></script>
    
  </body>
</html>
