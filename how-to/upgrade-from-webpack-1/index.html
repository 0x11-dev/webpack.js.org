<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>webpack</title>
    

    
      <link href="/style.css" rel="stylesheet">
    
  </head>
  <body>
    <div class="site"><div class="navigation "><div class="container navigation-inner"><a class="navigation-logo" href="/"><span class="logo"><span class="webpack-icon -light" style="width:20px;margin-left:10px;padding-bottom:10px;"><figure class="webpack-icon-cube -outer" style="width:20px;height:20px;transform:translateX(-50%)
              scale3d(1,1,1)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(10px);"></section></figure><figure class="webpack-icon-cube -inner" style="width:20px;height:20px;transform:translateX(-50%)
              scale3d(0.5,0.5,0.5)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(10px);"></section></figure></span><span class="logo-text -light">webpack</span></span></a><nav class="navigation-nav"><a class="navigation-nav-link" href="/concepts">Concepts</a><a class="navigation-nav-link" href="/configuration">Configuration</a><a class="navigation-nav-link" href="/how-to">How to</a><a class="navigation-nav-link" href="/api">API</a><a class="navigation-nav-link" href="///github.com/webpack/webpack.js.org">Github</a></nav></div></div><aside class="sidecar"><a href="https://github.com/webpack/webpack" class="sidecar-item -github"><span>See the Repo</span><i class="icon-github"></i></a><a href="#" class="sidecar-item -gitter"><span>Get Help on Gitter</span><i class="icon-gitter"></i></a><a href="https://medium.com/webpack" class="sidecar-item -medium"><span>Visit Our Blog</span><i class="icon-medium"></i></a><a href="http://stackoverflow.com/questions/tagged/webpack" class="sidecar-item -so"><span>Browse Webpack on SO</span><i class="icon-stack-overflow"></i></a></aside><div class="container page"><nav class="sidebar"><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/use-with-third-party-tools">How to Use with Third Party Tools?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/use-with-docker">How to Use with Docker?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/upgrade-from-webpack-1">How to Upgrade from Webpack 1?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/split-code">How to Split Code?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/shim">How to Shim?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/set-up-hmr-with-react">How to Set Up Hot Module Replacement with React?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/install-webpack">How to Install webpack?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/index">How to</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/improve-build-performance">How to Improve Build Performance?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/hot-module-reload">How to Configure Hot Module Replacement?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/handle-dependencies">How to Handle Dependencies?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/handle-compatibility">How to Handle Compatibility?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/generate-production-build">How to Generate a Production Build?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/develop">How to Develop?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/develop-using-vagrant">How to Develop Using Vagrant</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/cache">How to Cache?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div><div class="sidebar-page"><span class="sidebar-page-title"><a href="/how-to/author-libraries">How to Author Libraries?</a><i class="sidebar-page-toggle icon-chevron-down"></i></span><ul class="sidebar-page-sections"></ul></div></nav><section class="page-content"><h1>How to Upgrade from Webpack 1?</h1><a class="page-edit" href="https://github.com/webpack/webpack.js.org/edit/master/content/how-to/upgrade-from-webpack-1.md">Edit this Page  <i class="icon-edit"></i></a><div><h3 class="header"><a class="anchor" href="#resolve-root-resolve-fallback-resolve-modulesdirectories" id="resolve-root-resolve-fallback-resolve-modulesdirectories"></a><span class="text"><code>resolve.root</code>, <code>resolve.fallback</code>, <code>resolve.modulesDirectories</code></span><a class="icon-link" href="#resolve-root-resolve-fallback-resolve-modulesdirectories"></a></h3>
<p>These options were replaced by a single option <code>resolve.modules</code>. See <a href="../api/resolving.md">resolving</a> for more usage.</p>
<pre><code class="lang-diff">  resolve: {
<span class="token deleted" >-   root: path.join(__dirname, "src")</span>
<span class="token inserted" >+   modules: [</span>
<span class="token inserted" >+     path.join(__dirname, "src"),</span>
<span class="token inserted" >+     "node_modules"</span>
<span class="token inserted" >+   ]</span>
  }
</code></pre>
<h3 class="header"><a class="anchor" href="#resolve-extensions" id="resolve-extensions"></a><span class="text"><code>resolve.extensions</code></span><a class="icon-link" href="#resolve-extensions"></a></h3>
<p>This option no longer requires passing an empty string. This behavior was moved to <code>resolve.enforceExtension</code>. See <a href="../api/resolving.md">resolving</a> for more usage.</p>
<h3 class="header"><a class="anchor" href="#resolve-" id="resolve-"></a><span class="text"><code>resolve.*</code></span><a class="icon-link" href="#resolve-"></a></h3>
<p>More stuff was changed here. Not listed in detail as not commonly used. See <a href="../api/resolving.md">resolving</a> for details.</p>
<h3 class="header"><a class="anchor" href="#debug" id="debug"></a><span class="text"><code>debug</code></span><a class="icon-link" href="#debug"></a></h3>
<p>The <code>debug</code> option switched loaders to debug mode in webpack 1. This need to be passed via loader options in long-term. See loader documentation for relevant options.</p>
<p>The debug mode for loaders will be removed in webpack 3 or later.</p>
<p>To keep compatiblity with old loaders, loaders can be switched to debug mode via plugin:</p>
<pre><code class="lang-diff"><span class="token deleted" >- debug: true,</span>
  plugins: [
<span class="token inserted" >+   new webpack.LoaderOptionsPlugin({</span>
<span class="token inserted" >+     debug: true</span>
<span class="token inserted" >+   })</span>
  ]
</code></pre>
<h3 class="header"><a class="anchor" href="#uglifyjsplugin-sourcemap" id="uglifyjsplugin-sourcemap"></a><span class="text"><code>UglifyJsPlugin</code> sourceMap</span><a class="icon-link" href="#uglifyjsplugin-sourcemap"></a></h3>
<p>The <code>sourceMap</code> option of the <code>UglifyJsPlugin</code> now defaults to <code>false</code> instead of <code>true</code>.
This means if using SourceMaps for the minimized code you need to pass <code>sourceMap: true</code>.</p>
<pre><code class="lang-diff">  devtool: "source-map",
  plugins: [
    new UglifyJsPlugin({
<span class="token inserted" >+     sourceMap: true</span>
    })
  ]
</code></pre>
<h3 class="header"><a class="anchor" href="#uglifyjsplugin-minimize-loaders" id="uglifyjsplugin-minimize-loaders"></a><span class="text"><code>UglifyJsPlugin</code> minimize loaders</span><a class="icon-link" href="#uglifyjsplugin-minimize-loaders"></a></h3>
<p>The UglifyJsPlugin does not longer switch loaders into minimize mode. This need to be passed via loader options in long-term. See loader documentation for relevant options.</p>
<p>The minimize mode for loaders will be removed in webpack 3 or later.</p>
<p>To keep compatiblity with old loaders, loaders can be switched to minimize mode via plugin:</p>
<pre><code class="lang-diff">  plugins: [
<span class="token inserted" >+   new webpack.LoaderOptionsPlugin({</span>
<span class="token inserted" >+     minimize: true</span>
<span class="token inserted" >+   })</span>
  ]
</code></pre>
<h3 class="header"><a class="anchor" href="#occurrenceorderplugin-is-now-on-by-default" id="occurrenceorderplugin-is-now-on-by-default"></a><span class="text"><code>OccurrenceOrderPlugin</code> is now on by default</span><a class="icon-link" href="#occurrenceorderplugin-is-now-on-by-default"></a></h3>
<p>It&#39;s no longer neccessary to specify it in configuration.</p>
<pre><code class="lang-diff">  plugins: [
<span class="token deleted" >-   new webpack.optimize.OccurrenceOrderPlugin()</span>
  ]
</code></pre>
<h3 class="header"><a class="anchor" href="#full-dynamic-requires-now-fail-by-default" id="full-dynamic-requires-now-fail-by-default"></a><span class="text">full dynamic requires now fail by default</span><a class="icon-link" href="#full-dynamic-requires-now-fail-by-default"></a></h3>
<p>A dependency with only an expression (i. e. <code>require(expr)</code>) will now create an empty context instead of an context of the complete directory.</p>
<p>Best refactor this code as it won&#39;t work with ES6 Modules. If this is not possible you can use the <code>ContextReplacementPlugin</code> to hint the compiler to the correct resolvings. See <a href="dynamic-dependencies.md">dynamic dependencies</a>.</p>
<h3 class="header"><a class="anchor" href="#using-custom-arguments-in-cli-and-configuration" id="using-custom-arguments-in-cli-and-configuration"></a><span class="text">Using custom arguments in CLI and configuration</span><a class="icon-link" href="#using-custom-arguments-in-cli-and-configuration"></a></h3>
<p>If you abused the CLI to pass custom arguments to the configration like so:</p>
<p><code>webpack --custom-stuff</code></p>
<pre><code class="lang-js"><span class="token comment" spellcheck="true">// webpack.config.js</span>
<span class="token keyword" >var</span> customStuff <span class="token operator" >=</span> process<span class="token punctuation" >.</span>argv<span class="token punctuation" >.</span><span class="token function" >indexOf</span><span class="token punctuation" >(</span><span class="token string" >"--custom-stuff"</span><span class="token punctuation" >)</span> <span class="token operator" >>=</span> <span class="token number" >0</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">/*...*/</span>
</code></pre>
<p>You may notice that this is no longer allowed. CLI is more strict now.</p>
<p>Instead there is an interface for passing arguments to the configuration. This should be used instead. Future tool may rely on this.</p>
<p><code>webpack --env.customStuff</code></p>
<pre><code class="lang-js">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>env<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >var</span> config<span class="token punctuation" >,</span> customStuff <span class="token operator" >=</span> env<span class="token punctuation" >.</span>customStuff<span class="token punctuation" >;</span>
  <span class="token comment" spellcheck="true">/*...*/</span>
  <span class="token keyword" >return</span> config<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>See <a href="../api/cli.md">CLI</a>.</p>
<h3 class="header"><a class="anchor" href="#require-ensure-and-amd-require-is-async" id="require-ensure-and-amd-require-is-async"></a><span class="text"><code>require.ensure</code> and AMD <code>require</code> is async</span><a class="icon-link" href="#require-ensure-and-amd-require-is-async"></a></h3>
<p>These functions are now always async instead of calling their callback sync if the chunk is already loaded.</p>
<h3 class="header"><a class="anchor" href="#module-loaders-is-now-module-rules" id="module-loaders-is-now-module-rules"></a><span class="text"><code>module.loaders</code> is now <code>module.rules</code></span><a class="icon-link" href="#module-loaders-is-now-module-rules"></a></h3>
<p>The old loader configuration was superseeded by a more powerful rules system, which allows to configure loaders and more. </p>
<p>For compatiblity reasons the old syntax is still valid and the old names are parsed.</p>
<p>The new naming is easier to understand to there are good reasons to upgrade the configuration.</p>
<pre><code class="lang-diff">  module: {
<span class="token deleted" >-   loaders: [</span>
<span class="token inserted" >+   rules: [</span>
      {
        test: /\.css$/,
<span class="token deleted" >-       loaders: [</span>
<span class="token inserted" >+       use: [</span>
          {
            loader: "style-loader"
          },
          {
            loader: "css-loader",
<span class="token deleted" >-           query: {</span>
<span class="token inserted" >+           options: {</span>
              modules: true
            }
        ]
      }
    ]
  }
</code></pre>
<h3 class="header"><a class="anchor" href="#module-preloaders-and-module-postloaders-was-removed" id="module-preloaders-and-module-postloaders-was-removed"></a><span class="text"><code>module.preLoaders</code> and <code>module.postLoaders</code> was removed</span><a class="icon-link" href="#module-preloaders-and-module-postloaders-was-removed"></a></h3>
<pre><code class="lang-diff">  module: {
<span class="token deleted" >-   preLoaders: [</span>
<span class="token inserted" >+   rules: [</span>
      {
        test: /\.js$/,
<span class="token inserted" >+       enforce: "pre",</span>
        loader: "eslint-loader"
      }
    ]
  }
</code></pre>
<h3 class="header"><a class="anchor" href="#loaderoptionplugin-context" id="loaderoptionplugin-context"></a><span class="text"><code>LoaderOptionPlugin</code> context</span><a class="icon-link" href="#loaderoptionplugin-context"></a></h3>
<p>Some loaders need context information and read them from the configuration. This need to be passed via loader options in long-term. See loader documentation for relevant options.</p>
<p>To keep compatiblity with old loaders, this information can be passed via plugin:</p>
<pre><code class="lang-diff">  plugins: [
<span class="token inserted" >+   new webpack.LoaderOptionsPlugin({</span>
<span class="token inserted" >+     options: {</span>
<span class="token inserted" >+       context: __dirname</span>
<span class="token inserted" >+     }</span>
<span class="token inserted" >+   })</span>
  ]
</code></pre>
</div><hr/><div class="contributors"><p>Contributors to this page: (in alphabetical order)</p><div class="contributors__list"><a class="contributors__person" href="https://github.com/sokra"><img src="https://github.com/sokra.png?size=80"/><span>sokra</span></a></div></div></section></div><footer class="footer"><div class="container footer-inner"><section class="footer-inner-left"><a class="footer-inner-link" href="get-started">Get Started</a><a class="footer-inner-link" href="analyze">Analyze</a><a class="footer-inner-link" href="contribute">Contribute</a></section><section class="footer-inner-middle"><a href="/"><span class="webpack-icon -dark" style="width:18px;margin-left:9px;padding-bottom:9px;"><figure class="webpack-icon-cube -outer" style="width:18px;height:18px;transform:translateX(-50%)
              scale3d(1,1,1)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(9px);"></section></figure><figure class="webpack-icon-cube -inner" style="width:18px;height:18px;transform:translateX(-50%)
              scale3d(0.5,0.5,0.5)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(9px);"></section></figure></span></a></section><section class="footer-inner-right"><a class="footer-inner-link" href="//gitter.im/webpack/webpack">Support</a><a class="footer-inner-link" href="changelog">Changelog</a><a class="footer-inner-link" href="license">License</a></section></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-46921629-2', 'auto');ga('send', 'pageview');</script></div>
  </body>
</html>
