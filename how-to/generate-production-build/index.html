<html lang="en"><head><title>webpack - How to Generate a Production Build?</title><base href="//webpack.js.org/"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="

Generating production builds with Webpack is straight-forward. There are three things to keep in…"/><meta name="keywords" content="webpack,javascript,web development,programming"/><link rel="icon" type="image/png" href="//webpack.js.org/assets/img/favicon.png"/><link rel="stylesheet" href="//webpack.js.org/assets/main.css"/></head><body><main role="main"><div class="navigation "><div class="container navigation-inner"><a class="navigation-logo" href="index.html"><span class="logo"><span class="webpack-icon -light" style="width:20px;margin-left:10px;padding-bottom:10px;"><figure class="webpack-icon-cube -outer" style="width:20px;height:20px;transform:translateX(-50%)
              scale3d(1,1,1)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(10px);"></section></figure><figure class="webpack-icon-cube -inner" style="width:20px;height:20px;transform:translateX(-50%)
              scale3d(0.5,0.5,0.5)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(10px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(10px);"></section></figure></span><span class="logo-text -light">Webpack</span></span></a><nav class="navigation-nav"><a class="navigation-nav-link" href="/concepts">Concepts</a><a class="navigation-nav-link" href="/how-to">How to</a><a class="navigation-nav-link" href="/api">API</a><a class="navigation-nav-link" href="///github.com/webpack/webpack.js.org">Github</a></nav></div></div><aside class="sidecar"><a href="https://github.com/webpack/webpack" class="sidecar-item -github"><span>See the Repo</span><i class="icon-github"></i></a><a href="#" class="sidecar-item -gitter"><span>Get Help on Gitter</span><i class="icon-gitter"></i></a><a href="https://medium.com/webpack" class="sidecar-item -medium"><span>Visit Our Blog</span><i class="icon-medium"></i></a><a href="http://stackoverflow.com/questions/tagged/webpack" class="sidecar-item -so"><span>Browse Webpack on SO</span><i class="icon-stack-overflow"></i></a></aside><div class="container page"><nav class="sidebar"><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/use-with-third-party-tools">How to Use with Third Party Tools?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/use-with-docker">How to Use with Docker?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/upgrade-from-webpack-1">How to Upgrade from Webpack 1?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/split-code">How to Split Code?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/shim">How to Shim?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/set-up-hmr-with-react">How to Set Up Hot Module Replacement with React?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/install-webpack">How to Install webpack?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/index">How to</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/improve-build-performance">How to Improve Build Performance?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/hot-module-reload">How to Configure Hot Module Replacement?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/handle-dependencies">How to Handle Dependencies?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/handle-compatibility">How to Handle Compatibility?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/generate-production-build">How to Generate a Production Build?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/develop">How to Develop?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/develop-using-vagrant">How to Develop Using Vagrant</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/cache">How to Cache?</a></div><div class="sidebar-link"><a class="sidebar-link-text" href="/how-to/author-libraries">How to Author Libraries?</a></div></nav><section class="page-content"><h1>How to Generate a Production Build?</h1><a class="page-edit" href="https://github.com/webpack/webpack.js.org/edit/master/content/how-to/generate-production-build.md">Edit this Page  <i class="icon-edit"></i></a><div><p>Generating production builds with Webpack is straight-forward. There are three things to keep in mind:</p>
<ul>
<li>Source Maps</li>
<li>Node environment</li>
<li>Minification</li>
</ul>
<h2 class="header"><a class="header-anchor" href="#source-maps" id="source-maps"></a><span class="text">Source Maps</span><a class="header-anchor-select" href="#source-maps">#</a></h2>
<p>We encourage you to have Source Maps enabled in production. They are useful for debugging and to run benchmark tests. Webpack can generate inline Source Maps included in the bundles or separated files.</p>
<p>In your configuration, use the <code>devtools</code> object to set the Source Map type. We currently support seven types of Source Maps. You can find more information about them in our <a href="https://webpack.github.io/docs/configuration.html#devtool">configuration</a> documentation page.</p>
<p>One of the good options to go is using <code>cheap-module-source-map</code> which simplifies the Source Maps to a single mapping per line.</p>
<h2 class="header"><a class="header-anchor" href="#node-environment-variable" id="node-environment-variable"></a><span class="text">Node environment variable</span><a class="header-anchor-select" href="#node-environment-variable">#</a></h2>
<p>The second step is to tell Webpack to generate a production build by setting the node environment variable to <code>production</code>. Webpack will not include any extra useful code, warnings and checks used in development.</p>
<p>The <code>DefinePlugin</code> creates <strong>compile</strong> time constants. Useful for injecting your node environment as seen below.</p>
<blockquote class="todo"><i class="icon-chevron-right tip-icon"></i>TODO: Add a link to the <code>ProvidePlugin</code> documentation</blockquote><pre><code class="lang-js"><span class="token comment" spellcheck="true">// webpack.config.js</span>
module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">//…</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>DefinePlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      <span class="token string" >'process.env'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token string" >'NODE_ENV'</span><span class="token punctuation" >:</span> JSON<span class="token punctuation" >.</span><span class="token function" >stringify</span><span class="token punctuation" >(</span><span class="token string" >'production'</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >]</span>
  <span class="token comment" spellcheck="true">// …</span>
<span class="token punctuation" >}</span>
</code></pre>
<blockquote class="tip"><i class="icon-info tip-icon"></i>Spoiler: Setting the env var only won&#39;t make your bundle smaller. This take us to the last step:</blockquote><h2 class="header"><a class="header-anchor" href="#minification" id="minification"></a><span class="text">Minification</span><a class="header-anchor-select" href="#minification">#</a></h2>
<p>Webpack comes with UglifyJS plugin which minimize the output. You can pass an object containing <a href="https://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin">UglifyJS options</a>.</p>
<pre><code class="lang-js"><span class="token comment" spellcheck="true">// webpack.config.js</span>
module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">//…</span>
  plugins<span class="token punctuation" >:</span><span class="token punctuation" >[</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>DefinePlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      <span class="token string" >'process.env'</span><span class="token punctuation" >:</span><span class="token punctuation" >{</span>
        <span class="token string" >'NODE_ENV'</span><span class="token punctuation" >:</span> JSON<span class="token punctuation" >.</span><span class="token function" >stringify</span><span class="token punctuation" >(</span><span class="token string" >'production'</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>optimize<span class="token punctuation" >.</span>UglifyJsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      compress<span class="token punctuation" >:</span><span class="token punctuation" >{</span>
        warnings<span class="token punctuation" >:</span> <span class="token boolean" >true</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >]</span>
  <span class="token comment" spellcheck="true">//…</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>That&#39;s it! You&#39;re all set to ship production code.</p>
<blockquote class="todo"><i class="icon-chevron-right tip-icon"></i>TODO: Add reading reference link to &quot;How to manage multiple configurations&quot;
?&gt; TODO: Add reference link to &quot;Splitting configuration&quot;</blockquote></div></section></div><footer class="footer"><div class="container footer-inner"><section class="footer-inner-left"><a class="footer-inner-link" href="get-started">Get Started</a><a class="footer-inner-link" href="analyze">Analyze</a><a class="footer-inner-link" href="contribute">Contribute</a></section><section class="footer-inner-middle"><a href="/"><span class="webpack-icon -dark" style="width:18px;margin-left:9px;padding-bottom:9px;"><figure class="webpack-icon-cube -outer" style="width:18px;height:18px;transform:translateX(-50%)
              scale3d(1,1,1)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(9px);"></section></figure><figure class="webpack-icon-cube -inner" style="width:18px;height:18px;transform:translateX(-50%)
              scale3d(0.5,0.5,0.5)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="webpack-icon-cube-face" style="transform:rotateX(0deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateX(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(-90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(90deg) translateZ(9px);"></section><section class="webpack-icon-cube-face" style="transform:rotateY(180deg) translateZ(9px);"></section></figure></span></a></section><section class="footer-inner-right"><a class="footer-inner-link" href="//gitter.im/webpack/webpack">Support</a><a class="footer-inner-link" href="changelog">Changelog</a><a class="footer-inner-link" href="license">License</a></section></div></footer></main></body></html>